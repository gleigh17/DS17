{"paragraphs":[{"text":"import org.apache.spark.streaming._\nimport org.apache.spark.streaming.twitter._\nimport org.apache.spark.storage.StorageLevel\nimport scala.io.Source\nimport scala.collection.mutable.HashMap\nimport java.io.File\nimport org.apache.log4j.Logger\nimport org.apache.log4j.Level\nimport sys.process.stringSeqToProcess\n","dateUpdated":"2017-01-26T20:11:01-0500","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479049245_438968975","id":"20170126-200409_1860657709","dateCreated":"2017-01-26T20:04:09-0500","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2259","dateFinished":"2017-01-26T20:11:22-0500","dateStarted":"2017-01-26T20:11:01-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming._\n\nimport org.apache.spark.streaming.twitter._\n\nimport org.apache.spark.storage.StorageLevel\n\nimport scala.io.Source\n\nimport scala.collection.mutable.HashMap\n\nimport java.io.File\n\nimport org.apache.log4j.Logger\n\nimport org.apache.log4j.Level\n\nimport sys.process.stringSeqToProcess\n"},"focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479461831_-1612731633","id":"20170126-201101_1689717641","dateCreated":"2017-01-26T20:11:01-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2339","dateUpdated":"2017-01-26T20:11:42-0500","dateFinished":"2017-01-26T20:11:45-0500","dateStarted":"2017-01-26T20:11:42-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nconfigureTwitterCredentials: (apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String)Unit\n"},"text":"/** Configures the Oauth Credentials for accessing Twitter */\ndef configureTwitterCredentials(apiKey: String, apiSecret: String, accessToken: String, accessTokenSecret: String) {\n  val configs = new HashMap[String, String] ++= Seq(\n    \"apiKey\" -> apiKey, \"apiSecret\" -> apiSecret, \"accessToken\" -> accessToken, \"accessTokenSecret\" -> accessTokenSecret)\n  println(\"Configuring Twitter OAuth\")\n  configs.foreach{ case(key, value) =>\n    if (value.trim.isEmpty) {\n      throw new Exception(\"Error setting authentication - value for \" + key + \" not set\")\n    }\n    val fullKey = \"twitter4j.oauth.\" + key.replace(\"api\", \"consumer\")\n    System.setProperty(fullKey, value.trim)\n    println(\"\\tProperty \" + fullKey + \" set as [\" + value.trim + \"]\")\n  }\n  println()\n}\n"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479502778_-1284663414","id":"20170126-201142_977932787","dateCreated":"2017-01-26T20:11:42-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2428","dateUpdated":"2017-01-26T20:19:11-0500","dateFinished":"2017-01-26T20:19:13-0500","dateStarted":"2017-01-26T20:19:11-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\napiKey: String = 6ctIQcR86J01ZSKn0CnhlR0sU\n\napiSecret: String = Er6kkJs9hTDDxIGaZqfqhRLlJKoKuzIEUFmyNMHCgBbnOCbuGK\n\naccessToken: String = 4449882683-ixkwyThMpDggZvmoF3c4vyJ5GkMzuZDbj7r3CGG\n\naccessTokenSecret: String = SnBQUH9pONnKMqtyC2IEmGq3ngtcwNAzSDXVlQLEvvgeX\nConfiguring Twitter OAuth\n\tProperty twitter4j.oauth.consumerKey set as [6ctIQcR86J01ZSKn0CnhlR0sU]\n\tProperty twitter4j.oauth.accessToken set as [4449882683-ixkwyThMpDggZvmoF3c4vyJ5GkMzuZDbj7r3CGG]\n\tProperty twitter4j.oauth.consumerSecret set as [Er6kkJs9hTDDxIGaZqfqhRLlJKoKuzIEUFmyNMHCgBbnOCbuGK]\n\tProperty twitter4j.oauth.accessTokenSecret set as [SnBQUH9pONnKMqtyC2IEmGq3ngtcwNAzSDXVlQLEvvgeX]\n\n"},"text":"// Configure Twitter credentials\nval apiKey = \"6ctIQcR86J01ZSKn0CnhlR0sU\"\nval apiSecret = \"Er6kkJs9hTDDxIGaZqfqhRLlJKoKuzIEUFmyNMHCgBbnOCbuGK\"\nval accessToken = \"4449882683-ixkwyThMpDggZvmoF3c4vyJ5GkMzuZDbj7r3CGG\"\nval accessTokenSecret = \"SnBQUH9pONnKMqtyC2IEmGq3ngtcwNAzSDXVlQLEvvgeX\"\nconfigureTwitterCredentials(apiKey, apiSecret, accessToken, accessTokenSecret)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479951755_-122137249","id":"20170126-201911_1795887050","dateCreated":"2017-01-26T20:19:11-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2531","dateUpdated":"2017-01-26T20:19:17-0500","dateFinished":"2017-01-26T20:19:20-0500","dateStarted":"2017-01-26T20:19:17-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.streaming.twitter._\n\nssc: org.apache.spark.streaming.StreamingContext = org.apache.spark.streaming.StreamingContext@da9d0d5\n\ntweets: org.apache.spark.streaming.dstream.ReceiverInputDStream[twitter4j.Status] = org.apache.spark.streaming.twitter.TwitterInputDStream@7bf3f3cf\n\ntwt: org.apache.spark.streaming.dstream.DStream[twitter4j.Status] = org.apache.spark.streaming.dstream.WindowedDStream@71f0c8d0\n"},"text":"import org.apache.spark.streaming.twitter._\nval ssc = new StreamingContext(sc, Seconds(2))\nval tweets = TwitterUtils.createStream(ssc, None)\nval twt = tweets.window(Seconds(60))\n"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479957445_406138315","id":"20170126-201917_514014157","dateCreated":"2017-01-26T20:19:17-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2613","dateUpdated":"2017-01-26T20:19:41-0500","dateFinished":"2017-01-26T20:19:46-0500","dateStarted":"2017-01-26T20:19:41-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndefined class Tweet\n\nwarning: there was one deprecation warning; re-run with -deprecation for details\n"},"text":"case class Tweet(createdAt:Long, text:String)\ntwt.map(status=>\n  Tweet(status.getCreatedAt().getTime()/1000, status.getText())\n).foreachRDD(rdd=>\n  // Below line works only in spark 1.3.0.\n  // For spark 1.1.x and spark 1.2.x,\n  // use rdd.registerTempTable(\"tweets\") instead.\n  rdd.toDF().registerTempTable(\"tweets\")\n)\n\ntwt.print\n\nssc.start()"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485479981800_-571477992","id":"20170126-201941_663026363","dateCreated":"2017-01-26T20:19:41-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2698","dateUpdated":"2017-01-26T20:20:31-0500","dateFinished":"2017-01-26T20:20:32-0500","dateStarted":"2017-01-26T20:20:31-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\ttext\n1485479989\tRT @PeterAlexander: NEW: Because of delay in Trump's return to WH, executive action calling for voter fraud investigation to be signed tomo…\n1485479989\tRT @weeklyresisters: But we already know Trump wants a turn-back-the-clock extremist. Our senators need to know #WeSayNo. Call them at… \n1485479990\t@br8veheart @Twitter @Support He's not retired, just an anti-Trump stalker.>>@AG2Pearl\n\nThanks for your service.\n1485479990\tRT @cnalive: President Donald Trump restores ban on federal funding of NGOs that perform overseas abortions https://t.co/UU3FNoWXJj #ProLife\n1485479991\tWell done, @Jabadahub25! Now ppl will power up @GIMP_Official making memes of @Lauren_Southern calling things anti-Trump... CC @thunderf00t\n1485479993\tRT @ACLU: No, Stephen Bannon, the media should not “keep its mouth shut” and if the Trump administration tries, we’ll see the… \n1485479994\t@PhillyEaglez10 @DemsTalk @POTUS @WhiteHouse and replace \"their\" with \"they're\" - sorry, what were you saying about Trump's education ideas?\n1485479997\tSome of us never did. Even though Trump's devotion should have us all rethinking it. Don't blame me:… https://t.co/CmHslhtNcs\n1485480001\tRT @VicenteFoxQue: @realDonaldTrump's ego monument real cost is around 25 billion USD. I ask you, America, what would you prefer instead of…\n1485480001\tRT @IjeomaOluo: SEATTLE: stand with our immigrant friends & neighbors against the hatred & bigotry of the Trump administration:\nhttps://t.c…\n","comment":"Thanks for your service.1485479990\tRT @cnalive: President Donald Trump restores ban on federal funding of NGOs that perform overseas abortions https://t.co/UU3FNoWXJj #ProLife1485479991\tWell done, @Jabadahub25! Now ppl will power up @GIMP_Official making memes of @Lauren_Southern calling things anti-Trump... CC @thunderf00t1485479993\tRT @ACLU: No, Stephen Bannon, the media should not “keep its mouth shut” and if the Trump administration tries, we’ll see the… 1485479994\t@PhillyEaglez10 @DemsTalk @POTUS @WhiteHouse and replace \"their\" with \"they're\" - sorry, what were you saying about Trump's education ideas?1485479997\tSome of us never did. Even though Trump's devotion should have us all rethinking it. Don't blame me:… https://t.co/CmHslhtNcs1485480001\tRT @VicenteFoxQue: @realDonaldTrump's ego monument real cost is around 25 billion USD. I ask you, America, what would you prefer instead of…1485480001\tRT @IjeomaOluo: SEATTLE: stand with our immigrant friends & neighbors against the hatred & bigotry of the Trump administration:https://t.c…","msgTable":[[{"key":"text","value":"1485479989"},{"key":"text","value":"RT @PeterAlexander: NEW: Because of delay in Trump's return to WH, executive action calling for voter fraud investigation to be signed tomo…"}],[{"value":"1485479989"},{"value":"RT @weeklyresisters: But we already know Trump wants a turn-back-the-clock extremist. Our senators need to know #WeSayNo. Call them at… "}],[{"value":"1485479990"},{"value":"@br8veheart @Twitter @Support He's not retired, just an anti-Trump stalker.>>@AG2Pearl"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"text","index":1,"aggr":"sum"}],"rows":[["1485479989","RT @PeterAlexander: NEW: Because of delay in Trump's return to WH, executive action calling for voter fraud investigation to be signed tomo…"],["1485479989","RT @weeklyresisters: But we already know Trump wants a turn-back-the-clock extremist. Our senators need to know #WeSayNo. Call them at… "],["1485479990","@br8veheart @Twitter @Support He's not retired, just an anti-Trump stalker.>>@AG2Pearl"]]},"text":"%sql \nselect * from tweets where text like '%Trump%' limit 10"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485480015238_-1463079111","id":"20170126-202015_1526442216","dateCreated":"2017-01-26T20:20:15-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2780","dateUpdated":"2017-01-26T20:20:48-0500","dateFinished":"2017-01-26T20:20:53-0500","dateStarted":"2017-01-26T20:20:48-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"createdAt\tcount(1)\n1485479988\t2\n1485479989\t32\n1485479990\t43\n1485479991\t36\n1485479992\t38\n1485479993\t39\n1485479994\t35\n1485479995\t43\n1485479996\t32\n1485479997\t38\n1485479998\t40\n1485479999\t38\n1485480000\t36\n1485480001\t46\n1485480002\t55\n1485480003\t43\n1485480004\t44\n1485480005\t58\n1485480006\t37\n1485480007\t42\n1485480008\t43\n1485480009\t51\n1485480010\t41\n1485480011\t48\n1485480012\t49\n1485480013\t42\n1485480014\t40\n1485480015\t28\n1485480016\t42\n1485480017\t32\n1485480018\t42\n1485480019\t47\n1485480020\t33\n1485480021\t37\n1485480022\t40\n1485480023\t44\n1485480024\t42\n1485480025\t47\n1485480026\t40\n1485480027\t40\n1485480028\t47\n1485480029\t33\n1485480030\t44\n1485480031\t46\n1485480032\t31\n1485480033\t45\n1485480034\t33\n1485480035\t36\n1485480036\t37\n1485480037\t37\n1485480038\t32\n1485480039\t37\n1485480040\t35\n1485480041\t34\n1485480042\t38\n1485480043\t43\n1485480044\t40\n1485480045\t46\n1485480046\t34\n1485480047\t40\n","comment":"","msgTable":[[{"key":"count(1)","value":"1485479988"},{"key":"count(1)","value":"2"}],[{"value":"1485479989"},{"value":"32"}],[{"value":"1485479990"},{"value":"43"}],[{"value":"1485479991"},{"value":"36"}],[{"value":"1485479992"},{"value":"38"}],[{"value":"1485479993"},{"value":"39"}],[{"value":"1485479994"},{"value":"35"}],[{"value":"1485479995"},{"value":"43"}],[{"value":"1485479996"},{"value":"32"}],[{"value":"1485479997"},{"value":"38"}],[{"value":"1485479998"},{"value":"40"}],[{"value":"1485479999"},{"value":"38"}],[{"value":"1485480000"},{"value":"36"}],[{"value":"1485480001"},{"value":"46"}],[{"value":"1485480002"},{"value":"55"}],[{"value":"1485480003"},{"value":"43"}],[{"value":"1485480004"},{"value":"44"}],[{"value":"1485480005"},{"value":"58"}],[{"value":"1485480006"},{"value":"37"}],[{"value":"1485480007"},{"value":"42"}],[{"value":"1485480008"},{"value":"43"}],[{"value":"1485480009"},{"value":"51"}],[{"value":"1485480010"},{"value":"41"}],[{"value":"1485480011"},{"value":"48"}],[{"value":"1485480012"},{"value":"49"}],[{"value":"1485480013"},{"value":"42"}],[{"value":"1485480014"},{"value":"40"}],[{"value":"1485480015"},{"value":"28"}],[{"value":"1485480016"},{"value":"42"}],[{"value":"1485480017"},{"value":"32"}],[{"value":"1485480018"},{"value":"42"}],[{"value":"1485480019"},{"value":"47"}],[{"value":"1485480020"},{"value":"33"}],[{"value":"1485480021"},{"value":"37"}],[{"value":"1485480022"},{"value":"40"}],[{"value":"1485480023"},{"value":"44"}],[{"value":"1485480024"},{"value":"42"}],[{"value":"1485480025"},{"value":"47"}],[{"value":"1485480026"},{"value":"40"}],[{"value":"1485480027"},{"value":"40"}],[{"value":"1485480028"},{"value":"47"}],[{"value":"1485480029"},{"value":"33"}],[{"value":"1485480030"},{"value":"44"}],[{"value":"1485480031"},{"value":"46"}],[{"value":"1485480032"},{"value":"31"}],[{"value":"1485480033"},{"value":"45"}],[{"value":"1485480034"},{"value":"33"}],[{"value":"1485480035"},{"value":"36"}],[{"value":"1485480036"},{"value":"37"}],[{"value":"1485480037"},{"value":"37"}],[{"value":"1485480038"},{"value":"32"}],[{"value":"1485480039"},{"value":"37"}],[{"value":"1485480040"},{"value":"35"}],[{"value":"1485480041"},{"value":"34"}],[{"value":"1485480042"},{"value":"38"}],[{"value":"1485480043"},{"value":"43"}],[{"value":"1485480044"},{"value":"40"}],[{"value":"1485480045"},{"value":"46"}],[{"value":"1485480046"},{"value":"34"}],[{"value":"1485480047"},{"value":"40"}]],"columnNames":[{"name":"createdAt","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["1485479988","2"],["1485479989","32"],["1485479990","43"],["1485479991","36"],["1485479992","38"],["1485479993","39"],["1485479994","35"],["1485479995","43"],["1485479996","32"],["1485479997","38"],["1485479998","40"],["1485479999","38"],["1485480000","36"],["1485480001","46"],["1485480002","55"],["1485480003","43"],["1485480004","44"],["1485480005","58"],["1485480006","37"],["1485480007","42"],["1485480008","43"],["1485480009","51"],["1485480010","41"],["1485480011","48"],["1485480012","49"],["1485480013","42"],["1485480014","40"],["1485480015","28"],["1485480016","42"],["1485480017","32"],["1485480018","42"],["1485480019","47"],["1485480020","33"],["1485480021","37"],["1485480022","40"],["1485480023","44"],["1485480024","42"],["1485480025","47"],["1485480026","40"],["1485480027","40"],["1485480028","47"],["1485480029","33"],["1485480030","44"],["1485480031","46"],["1485480032","31"],["1485480033","45"],["1485480034","33"],["1485480035","36"],["1485480036","37"],["1485480037","37"],["1485480038","32"],["1485480039","37"],["1485480040","35"],["1485480041","34"],["1485480042","38"],["1485480043","43"],["1485480044","40"],["1485480045","46"],["1485480046","34"],["1485480047","40"]]},"text":"%sql select createdAt, count(1) from tweets group by createdAt order by createdAt"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485480048814_-117566235","id":"20170126-202048_130906389","dateCreated":"2017-01-26T20:20:48-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2892","dateUpdated":"2017-01-26T20:21:10-0500","dateFinished":"2017-01-26T20:21:12-0500","dateStarted":"2017-01-26T20:21:10-0500","result":{"code":"SUCCESS","type":"TEXT","msg":"\nsentiment: (s: String)String\n\nres11: org.apache.spark.sql.expressions.UserDefinedFunction = UserDefinedFunction(<function1>,StringType,Some(List(StringType)))\n"},"text":"def sentiment(s:String) : String = {\n    val positive = Array(\"like\", \"love\", \"good\", \"great\", \"happy\", \"cool\", \"the\", \"one\", \"that\")\n    val negative = Array(\"hate\", \"bad\", \"stupid\", \"is\")\n\n    var st = 0;\n\n    val words = s.split(\" \")    \n    positive.foreach(p =>\n        words.foreach(w =>\n            if(p==w) st = st+1\n        )\n    )\n\n    negative.foreach(p=>\n        words.foreach(w=>\n            if(p==w) st = st-1\n        )\n    )\n    if(st>0)\n        \"positivie\"\n    else if(st<0)\n        \"negative\"\n    else\n        \"neutral\"\n}\n\n// Below line works only in spark 1.3.0.\n// For spark 1.1.x and spark 1.2.x,\n// use sqlc.registerFunction(\"sentiment\", sentiment _) instead.\nsqlc.udf.register(\"sentiment\", sentiment _)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"UDF(text)","index":0,"aggr":"sum"}],"values":[{"name":"count(1)","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"UDF(text)","index":0,"aggr":"sum"},"yAxis":{"name":"count(1)","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485480070607_317831602","id":"20170126-202110_991867428","dateCreated":"2017-01-26T20:21:10-0500","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2988","dateUpdated":"2017-01-26T20:21:35-0500","dateFinished":"2017-01-26T20:21:37-0500","dateStarted":"2017-01-26T20:21:35-0500","result":{"code":"SUCCESS","type":"TABLE","msg":"UDF(text)\tcount(1)\nneutral\t3\nnegative\t2\npositivie\t1\n","comment":"","msgTable":[[{"key":"count(1)","value":"neutral"},{"key":"count(1)","value":"3"}],[{"value":"negative"},{"value":"2"}],[{"value":"positivie"},{"value":"1"}]],"columnNames":[{"name":"UDF(text)","index":0,"aggr":"sum"},{"name":"count(1)","index":1,"aggr":"sum"}],"rows":[["neutral","3"],["negative","2"],["positivie","1"]]},"text":"%sql \nselect sentiment(text), count(1) from tweets where text like '%trump%' group by sentiment(text)"},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1485480088589_-1026850479","id":"20170126-202128_293168740","dateCreated":"2017-01-26T20:21:28-0500","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3067","dateUpdated":"2017-01-26T20:21:43-0500","text":""}],"name":"Twitter","id":"2C7H8C3UE","angularObjects":{"2C9F9FVE2:shared_process":[],"2C7883SHN:shared_process":[],"2C7R9VMC5:shared_process":[],"2CA6986QR:shared_process":[],"2C9YBH1XE:shared_process":[],"2C7JEZBYK:shared_process":[],"2C6HU211P:shared_process":[],"2C9XMVQV2:shared_process":[],"2C9KNFZFV:shared_process":[],"2C99WQU9F:shared_process":[],"2C93R7WBV:shared_process":[],"2C6UCCP9F:shared_process":[],"2C6MZVGKX:shared_process":[],"2C7HNHD7Q:shared_process":[],"2C7F6N2TK:shared_process":[],"2C8NZHP3A:shared_process":[],"2C8MRUER7:shared_process":[],"2C9XWDMZF:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}